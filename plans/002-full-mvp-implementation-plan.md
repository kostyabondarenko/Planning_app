# План реализации MVP: Навигатор Целей (Goal Navigator)

## Objective
Создать детальный пошаговый план для полной реализации MVP приложения "Навигатор Целей", следуя концепции из `docs/product.md` и `docs/tech.md`.

## Общее видение (для понимания)
Представь, что мы строим карту для большого путешествия. Сначала мы рисуем саму карту (База данных), потом строим дороги (API), а потом делаем красивую машину, на которой пользователь поедет к своей мечте (Интерфейс). На сиденье рядом будет сидеть умный робот-штурман (AI-помощник), который подскажет путь.

---

## Этап 1: Фундамент и Окружение
1. **Инициализация репозитория**:
    - Настройка структуры папок (`backend`, `frontend`, `docs`, `plans`).
    - Настройка `.gitignore`, `README.md`.
2. **Backend Setup (Python/FastAPI)**:
    - Установка `fastapi`, `uvicorn`, `sqlalchemy`, `pydantic`.
    - Настройка Docker-контейнера для базы данных PostgreSQL.
3. **Frontend Setup (React/Next.js + Tailwind CSS)**:
    - Создание проекта, настройка стилей.

## Этап 2: Пользователи и Безопасность
1. **База данных (Users)**: Таблица `users` (id, email, hashed_password).
2. **API (Auth)**:
    - Регистрация (`/auth/register`).
    - Вход (`/auth/login`) с выдачей JWT-токена.
3. **Frontend**: Страницы логина и регистрации.

## Этап 3: Ядро — Цели и Шаги
1. **База данных (Goals & Steps)**:
    - Таблица `goals` (id, user_id, title, description, deadline, status).
    - Таблица `steps` (id, goal_id, title, is_completed, order).
2. **API (CRUD)**:
    - Создание, получение, обновление и удаление целей.
    - Управление шагами внутри цели.
3. **Frontend (Dashboard)**:
    - Список целей (карточки).
    - Экран детального просмотра цели с деревом шагов.

## Этап 4: ToDo и Календарь
1. **База данных (Todos)**:
    - Таблица `todos` (id, user_id, step_id (optional), title, date, is_completed).
2. **API**:
    - Эндпоинты для быстрых задач на день.
3. **Frontend (Daily View)**:
    - Список дел на сегодня.
    - Простой календарь (сетка месяца/недели) с отметками целей и задач.

## Этап 5: Логика Прогресса
1. **Алгоритм расчёта**:
    - Процент выполнения = (выполненные шаги / всего шагов) * 100.
2. **API**: Эндпоинт, отдающий статистику по всем целям пользователя.
3. **Frontend (Progress Chart)**: Визуализация прогресса (прогресс-бары, круговые диаграммы).

## Этап 6: Умный Помощник (AI)
1. **Интеграция с LLM (OpenAI API)**:
    - Настройка промптов для анализа целей.
2. **Функции помощника**:
    - "Разбей мою цель на шаги" (автогенерация шагов).
    - "Дай совет на сегодня" (анализ ToDo и дедлайнов).
3. **Frontend (Chat Interface)**: Кнопка или окно чата с помощником.

## Этап 7: Полировка и Запуск
1. **Написание тестов**: Unit-тесты для расчета прогресса и API.
2. **Обновление документации**: Финализация `docs/architecture.md` и `docs/tech.md`.
3. **Демонстрация**: Подготовка видео или описания рабочего процесса.

---

## Риски и Вопросы
- **Стык данных**: Как лучше связывать "быстрые ToDo" с "шагами целей", чтобы не перегрузить пользователя?
- **AI Context**: Сколько истории переписки хранить для AI, чтобы он помнил контекст целей?
- **Стек**: Выбираем PostgreSQL и FastAPI как самые надежные для старта.

## Стратегия отката
Если какой-то этап пойдет не так, мы можем откатиться к предыдущему тегу в Git. Каждая новая функция разрабатывается в отдельной ветке.
